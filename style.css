:root {
  --bg: #f7f7f7;
  --surface: #ffffff;
  --text: #292929;
  --muted: #6b7280;
  --primary: #bc6322; /* brand accent from spec */
  --primary-700: #9e4f17;
  --border: #d9d9d9;
  --chip: #ebebeb;
  --chip-border: #d9d9d9;
  --focus: #2563eb;
  --sidebar-width: 250px;
}

* { box-sizing: border-box; }

html, body { height: 100%; }

body { margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; color: var(--text); background: var(--bg); }

/* Header */
.app-header { background: var(--surface); border-bottom: 1px solid var(--border); position: sticky; top: 0; z-index: 10; }
.header-inner { display: grid; grid-template-columns: 320px 1fr; gap: 24px; align-items: center; max-width: 1200px; margin: 0 auto; padding: 16px 24px; }
.brand { display: flex; align-items: center; gap: 12px; }
.logo { height: 36px; width: auto; }
.app-title { font-weight: 600; font-size: 18px; }
.steps ol { display: flex; gap: 24px; list-style: none; padding: 0; margin: 0; }
.step { display: flex; align-items: center; gap: 10px; color: var(--muted); }
.step .num { width: 28px; height: 28px; border-radius: 9999px; display: inline-flex; align-items: center; justify-content: center; border: 1px solid var(--border); background: #fff; font-weight: 600; color: var(--muted); }
.step.active { color: var(--text); }
.step.active .num { border-color: var(--primary); color: var(--primary); }

/* Layout below header */
.layout { display: flex; align-items: stretch; }
.layout > steps-sidebar { width: var(--sidebar-width); flex: 0 0 var(--sidebar-width); }
.layout > .content { flex: 1 1 auto; }

/* Content */
.content { max-width: 1200px; margin: 24px auto; padding: 0 24px 120px; }
.card { background: var(--surface); border: 1px solid var(--border); border-radius: 10px; padding: 30px; }

/* Single-column form sized to 680px like spec */
.form-grid { display: grid; grid-template-columns: 1fr; gap: 20px; max-width: 680px; }
.field { display: flex; flex-direction: column; gap: 5px; }
.field.full { grid-column: 1 / -1; }

/* Labels */
label { font-size: 14px; line-height: 17px; font-weight: 500; color: var(--text); }

/* Inputs */
input[type="text"], textarea, select {
  appearance: none;
  border: 1px solid var(--border);
  border-radius: 10px;
  background: #ffffff;
  padding: 15px 20px;
  font-size: 14px;
  line-height: 17px;
  color: var(--text);
  min-height: 46px;
}

/* Disabled state matches #EBEBEB with #B8B8B8 border */
input[disabled], textarea[disabled] {
  color: var(--text);
  background: #ebebeb;
  border-color: #b8b8b8;
}

textarea { resize: vertical; }

/* Select basic chevron alignment (fallback) */
select {
  background-image: linear-gradient(45deg, transparent 50%, #858585 50%), linear-gradient(135deg, #858585 50%, transparent 50%);
  background-position: calc(100% - 20px) 20px, calc(100% - 15px) 20px;
  background-size: 5px 5px, 5px 5px;
  background-repeat: no-repeat;
}

/* Chips as rounded tags */
.chips { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
.chip {
  border: none;
  background: #ebebeb;
  color: var(--text);
  padding: 3px 15px;
  height: 30px;
  line-height: 24px;
  border-radius: 30px;
  font-size: 14px;
  cursor: pointer;
}
.chip.selected { outline: 2px solid var(--chip-border); }

/* Checkboxes: use brand accent */
.checkboxes { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 20px; }
.checkboxes input[type="checkbox"] { width: 16px; height: 16px; accent-color: var(--primary); }
.checkboxes label { display: flex; align-items: center; gap: 10px; font-size: 14px; color: var(--text); }

/* Footer */
.app-footer { position: fixed; left: var(--sidebar-width); right: 0; bottom: 0; background: var(--surface); border-top: 1px solid var(--border); }
.footer-inner { max-width: 1200px; margin: 0 auto; padding: 16px 24px; display: flex; align-items: center; justify-content: space-between; gap: 16px; }
.btn { appearance: none; border-radius: 8px; padding: 10px 16px; font-size: 14px; cursor: pointer; border: 1px solid var(--border); background: #fff; color: var(--text); }
.btn-primary { background: var(--primary); border-color: var(--primary); color: #fff; }
.btn-primary:hover { background: var(--primary-700); border-color: var(--primary-700); }
.btn-secondary:hover { background: #f9fafb; }

/* Responsive */
@media (max-width: 1200px) { .content { padding-right: 16px; padding-left: 16px; } }
@media (max-width: 960px) {
  .layout { display: block; }
  .form-grid { max-width: 100%; }
  .checkboxes { grid-template-columns: 1fr; }
  .app-footer { left: 0; }
}

/* Multiselect */
.multiselect { position: relative; border: 1px solid var(--border); border-radius: 10px; background: #FFFFFF; min-height: 46px; display: flex; align-items: center; justify-content: space-between; padding: 8px 20px; gap: 20px; }
.multiselect-values { display: flex; flex-wrap: wrap; gap: 10px; margin: 0 auto; justify-content: center; width: 100%; }
.multiselect .chip { background: #EBEBEB; border-radius: 30px; height: 30px; padding: 3px 15px; display: inline-flex; align-items: center; gap: 10px; border: 0; }
.chip .chip-remove { width: 20px; height: 20px; display: inline-block; position: relative; border-radius: 4px; }
.chip .chip-remove:before, .chip .chip-remove:after { content: ""; position: absolute; left: 9px; top: 4px; width: 2px; height: 12px; background: #292929; }
.chip .chip-remove:before { transform: rotate(45deg); }
.chip .chip-remove:after { transform: rotate(-45deg); }

.multiselect-toggle { width: 24px; height: 24px; border: none; background: transparent; position: relative; flex: 0 0 auto; }
.multiselect-toggle:after { content: ""; position: absolute; right: 0; top: 9px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 6px solid #858585; }

.multiselect-menu { position: absolute; left: 0; right: 0; top: calc(100% + 6px); background: #fff; border: 1px solid var(--border); border-radius: 10px; padding: 8px; display: none; z-index: 20; box-shadow: 0 8px 20px rgba(0,0,0,0.06); }
.multiselect.open .multiselect-menu { display: block; }
.multiselect-option { display: flex; align-items: center; gap: 10px; padding: 8px 10px; border-radius: 8px; cursor: pointer; }
.multiselect-option[aria-selected="true"] { background: #fff7ed; outline: 1px solid var(--border); }
.multiselect-option:hover { background: #f9fafb; }
